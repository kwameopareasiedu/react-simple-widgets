"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./tslib.es6-b49e58b3.js"),t=require("./style-inject.es-dcee06b6.js"),a=require("react"),n=require("./dayjs.min-686ce23b.js"),r=require("./calendar-7ce516eb.js"),l=require("./popup-menu.js"),i=require("./calendar-utils-56c89404.js");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("./_commonjsHelpers-72d386ba.js");var s=d(a);t.styleInject("@media screen and (min-width: 576px) {\n  .react-simple-widget.multi-date-picker-popup {\n    display: flex;\n    align-items: stretch;\n  }\n}\n.react-simple-widget.multi-date-picker-popup .selected-dates {\n  display: flex;\n  max-height: 200px;\n  margin-top: -4px;\n  padding-top: 4px;\n  background-color: white;\n  border-left: 2px solid var(--rsw-primary-color);\n  border-right: 2px solid var(--rsw-primary-color);\n  border-bottom: 2px solid var(--rsw-primary-color);\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  flex-direction: column;\n  overflow: hidden;\n}\n@media screen and (min-width: 576px) {\n  .react-simple-widget.multi-date-picker-popup .selected-dates {\n    max-height: 336px;\n    border: 2px solid var(--rsw-primary-color);\n    border-top: 2px solid var(--rsw-primary-color);\n    border-left: none;\n    border-top-right-radius: 4px;\n    border-bottom-left-radius: 0;\n    background-color: white;\n    margin-top: 0;\n    padding-top: 0;\n    margin-left: -4px;\n    padding-left: 4px;\n    overflow: hidden;\n  }\n}\n.react-simple-widget.multi-date-picker-popup .selected-dates label,\n.react-simple-widget.multi-date-picker-popup .selected-dates p {\n  font-size: 12px;\n  padding: 4px 12px;\n  border-bottom: 1px solid #e3e3e3;\n}\n.react-simple-widget.multi-date-picker-popup .selected-dates p {\n  flex: 1 1;\n}\n.react-simple-widget.multi-date-picker-popup .selected-dates .dates {\n  flex: 1 1;\n  overflow: auto;\n}\n.react-simple-widget.multi-date-picker-popup .selected-dates .dates .list-group-item small {\n  flex: 1 1;\n}\n.react-simple-widget.multi-date-picker-popup .selected-dates .actions {\n  display: flex;\n}\n.react-simple-widget.multi-date-picker-popup .selected-dates .actions button {\n  flex: 1 1;\n  border-radius: 0;\n}"),n.dayjs_min.extend(n.arraySupport),n.dayjs_min.extend(i.advancedFormat);exports.MultiDatePicker=function(t){var i,d=t.value,o=t.className,c=t.displayFormat,p=t.validator,u=t.onChange,m=e.__rest(t,["value","className","displayFormat","validator","onChange"]),f=a.useState(e.__spreadArray([],d,!0)),b=f[0],g=f[1],x=function(e,t,a){var r=n.dayjs_min([e,t,a]).format("YYYY-MM-DD");return b.includes(r)},y=function(e,t,a){for(var r=0,l=b;r<l.length;r++){var i=l[r];if(n.dayjs_min([e,t,a]).date()===n.dayjs_min(i,"YYYY-MM-DD").date())return!0}return!1};return s.default.createElement(l.PopupMenu,null,s.default.createElement("div",e.__assign({className:(i=["react-simple-widget","multi-date-picker"],o&&i.push(o),i.join(" "))},m),d.length>1&&"".concat(b.length," dates selected"),1===d.length&&n.dayjs_min(b[0]).format(c||"ddd, Do MMM YYYY"),0===d.length&&"No date selected"),(function(t){return s.default.createElement("div",{className:"react-simple-widget multi-date-picker-popup"},s.default.createElement(r.Calendar,{className:"d-inline-block w-auto",initialDate:b[0]||void 0,isDateOutlined:y,isDateActive:x,validator:p,onChange:function(t){b.includes(t)?g(b.filter((function(e){return e!==t}))):g(e.__spreadArray(e.__spreadArray([],b,!0),[t],!1))}}),s.default.createElement("div",{className:"selected-dates"},s.default.createElement("label",{className:"d-block"},"Selected Dates"),0===b.length?s.default.createElement("p",{className:"mb-0 no-dates"},"None selected"):s.default.createElement("div",{className:" dates list-group list-group-flush"},b.map((function(e){return s.default.createElement("div",{key:e,className:"list-group-item d-flex align-items-center py-0"},s.default.createElement("small",{className:"me-2"},n.dayjs_min(e,"YYYY-MM-DD").format("ddd, Do MMMM YYYY")),s.default.createElement("button",{type:"button",className:"btn btn-link btn-sm",onClick:function(){return g(b.filter((function(t){return t!==e})))}},s.default.createElement("i",{className:"fa fa-times"})))}))),s.default.createElement("div",{className:"actions"},s.default.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){u(e.__spreadArray([],b,!0)),t()}},"Ok"),b.length>0&&s.default.createElement("button",{type:"button",className:"btn btn-link btn-sm text-decoration-none",onClick:function(){return g([])}},"Clear"),s.default.createElement("button",{type:"button",className:"btn btn-link btn-sm text-decoration-none",onClick:t},"Cancel"))))}))};
