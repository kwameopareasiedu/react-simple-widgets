"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./tslib.es6-b49e58b3.js"),t=require("react");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=r(t),o=t.createContext(null),l="react-simple-widgets-local-storage-provider-keys";exports.LocalStorageProvider=function(r){var n=r.children,c=t.useState(function(){var e={};try{for(var t=localStorage.getItem(l),r=0,a=JSON.parse(t);r<a.length;r++){var o=a[r];e[o]=localStorage.getItem(o)}}catch(e){console.error(e),localStorage.setItem(l,"[]")}return e}()),s=c[0],i=c[1];return a.default.createElement(o.Provider,{value:{getItem:function(e){return s[e]},setItem:function(t,r){i((function(a){var o;return e.__assign(e.__assign({},a),((o={})[t]=r,o))}));var a=localStorage.getItem(l),o=JSON.parse(a);if(!o.includes(t)){var n=JSON.stringify(e.__spreadArray(e.__spreadArray([],o,!0),[t],!1));localStorage.setItem(l,n)}localStorage.setItem(t,r)},removeItems:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];i((function(r){for(var a=0,o=t;a<o.length;a++){delete r[o[a]]}return e.__assign({},r)}));for(var a=localStorage.getItem(l),o=JSON.parse(a),n=o.filter((function(e){return!t.includes(e)})),c=0,s=t;c<s.length;c++){var g=s[c];localStorage.removeItem(g)}localStorage.setItem(l,JSON.stringify(n))},clear:function(){var t=localStorage.getItem(l),r=JSON.parse(t);i((function(t){for(var a=0,o=r;a<o.length;a++){delete t[o[a]]}return e.__assign({},t)}));for(var a=0,o=r;a<o.length;a++){var n=o[a];localStorage.removeItem(n)}localStorage.setItem(l,"[]")}}},n)};
