"use strict";var e=require("./tslib.es6-b49e58b3.js"),n=require("./style-inject.es-dcee06b6.js"),t=require("react"),a=require("./calendar-utils-56c89404.js"),r=require("./dayjs.min-686ce23b.js");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=l(t);n.styleInject(".react-simple-widget.calendar {\n  position: relative;\n  background-color: white;\n  border: 2px solid var(--rsw-primary-color);\n  border-radius: 4px;\n}\n.react-simple-widget.calendar header {\n  padding: 6px 12px;\n}\n.react-simple-widget.calendar header p {\n  font-weight: 400;\n  text-transform: uppercase;\n  font-size: 12px;\n  letter-spacing: 2px;\n}\n.react-simple-widget.calendar header button i {\n  color: var(--rsw-primary-color);\n}\n.react-simple-widget.calendar .controls p {\n  padding: 4px 12px;\n  transition: background-color var(--rsw-transition-duration);\n  flex: 1 1;\n}\n.react-simple-widget.calendar .controls .display-day span {\n  font-size: 10px;\n  vertical-align: super;\n}\n.react-simple-widget.calendar .controls select {\n  border: none;\n}\n.react-simple-widget.calendar .controls select:focus {\n  box-shadow: none;\n  outline: none;\n  border: none;\n}\n.react-simple-widget.calendar .controls select:last-child {\n  width: auto;\n}\n.react-simple-widget.calendar .calendar-days {\n  display: grid;\n  padding: 6px;\n  grid-template-columns: repeat(7, 1fr);\n  overflow: auto;\n}\n.react-simple-widget.calendar .calendar-days .weekday {\n  font-size: 85%;\n  padding-bottom: 4px;\n  text-align: center;\n  opacity: 0.75;\n}\n.react-simple-widget.calendar .calendar-days button {\n  transition: background-color var(--rsw-transition-duration);\n  border-radius: 2px;\n}\n.react-simple-widget.calendar .calendar-days button:focus,\n.react-simple-widget.calendar .calendar-days button:hover {\n  outline: none;\n  box-shadow: none;\n}\n.react-simple-widget.calendar .calendar-days button.outline {\n  border: 2px solid var(--rsw-primary-color);\n  border-radius: 4px;\n}\n.react-simple-widget.calendar .calendar-days button.current {\n  color: var(--rsw-primary-color);\n  background-color: var(--rsw-primary-color-light);\n}\n.react-simple-widget.calendar .calendar-days button.active {\n  background-color: var(--rsw-primary-color);\n  color: white;\n  font-weight: bold;\n}\n.react-simple-widget.calendar .calendar-days button:not(.active):hover {\n  cursor: pointer;\n  background-color: #f3f3f3;\n}\n.react-simple-widget.calendar .calendar-days button,\n.react-simple-widget.calendar .calendar-days .offset {\n  padding: 6px 10px;\n}\n.react-simple-widget.calendar .calendar-error {\n  text-align: center;\n  margin: 0;\n  padding: 12px;\n  font-size: 85%;\n  font-weight: bold;\n  color: var(--rsw-error-color);\n  border-top: 1px solid #e3e3e3;\n}"),r.dayjs_min.extend(r.arraySupport);exports.Calendar=function(n){var l,o=n.initialDate,s=n.isDateActive,d=n.isDateOutlined,c=n.validator,u=n.onChange,m=n.className,p=e.__rest(n,["initialDate","isDateActive","isDateOutlined","validator","onChange","className"]),f=t.useState(a.dateYear(o)),y=f[0],g=f[1],w=t.useState(a.dateMonth(o)),b=w[0],v=w[1],h=t.useState(a.dateDay(o)),x=h[0],E=h[1],k=t.useState(r.dayjs_min([y,b,x]).daysInMonth()),j=k[0],N=k[1],D=t.useState(a.dateMonthDayOffset(y,b)),S=D[0],_=D[1],C=t.useState(!1),M=C[0],q=C[1],I=t.useState(null),Y=I[0],z=I[1],L=function(e){var n=["btn","btn-link","btn-sm","text-decoration-none"];return s&&s(y,b,e)&&n.push("active"),d&&d(y,b,e)&&n.push("outline"),r.dayjs_min([y,b,e]).isSame(r.dayjs_min(),"day")&&n.push("current"),n.join(" ")};return t.useEffect((function(){b>a.months.length-1?(v(b%a.months.length),g(y+1)):b<0&&(v((b+a.months.length)%a.months.length),g(y-1)),1===b&&x>28&&E(28),N(r.dayjs_min([y,b,x]).daysInMonth()),_(a.dateMonthDayOffset(y,b))}),[y,b]),t.useEffect((function(){var e=function(e){"Control"===e.key&&q(!M)};return window.addEventListener("keyup",e),window.addEventListener("keydown",e),function(){window.removeEventListener("keyup",e),window.removeEventListener("keydown",e)}}),[M]),i.default.createElement("div",e.__assign({className:(l=["react-simple-widget","calendar"],m&&l.push(m),l.join(" "))},p),i.default.createElement("header",{className:"d-flex justify-content-between align-items-center"},i.default.createElement("p",{className:"mb-0"},"Select Date"),i.default.createElement("button",{type:"button",className:"btn btn-light btn-sm",onClick:function(){var e=r.dayjs_min();g(e.year()),v(e.month())}},i.default.createElement("i",{className:"fa fa-clock"}))),i.default.createElement("div",{className:"controls d-flex align-items-center"},i.default.createElement("p",{className:"display-day text-center mb-0"},x,i.default.createElement("span",null,a.daySuffix(x))),i.default.createElement("select",{value:b,className:"form-select",onChange:function(e){return v(parseInt(e.target.value))}},a.months.map((function(e,n){return i.default.createElement("option",{key:e,value:n},e)}))),i.default.createElement("select",{value:y,className:"form-select",onChange:function(e){return g(parseInt(e.target.value))}},a.years.map((function(e){return i.default.createElement("option",{key:e,value:e},e)})))),i.default.createElement("div",{className:"calendar-days"},a.days.map((function(e){return i.default.createElement("div",{key:e,className:"weekday"},e.substring(0,2))})),Array(S+j).fill(null).map((function(e,n){if(n-S<0)return i.default.createElement("div",{key:n,className:"offset"});var t=n-S+1;return i.default.createElement("button",{type:"button",key:n,className:L(t),onClick:function(){return function(e){var n=r.dayjs_min([y,b,e]).format("YYYY-MM-DD");if(c){var t=c(n);if(t)return z(t);z(null)}else z(null);E(e),u(n)}(t)}},t)}))),Y&&i.default.createElement("p",{className:"calendar-error"},Y))};
