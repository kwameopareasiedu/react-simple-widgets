"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./tslib.es6-b49e58b3.js"),t=require("./style-inject.es-dcee06b6.js"),n=require("react"),a=require("./dayjs.min-686ce23b.js"),r=require("./popup-menu.js"),i=require("./field-decoration.js");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("./_commonjsHelpers-72d386ba.js");var u=l(n);t.styleInject(".react-simple-widget.time-picker-popup {\n  width: 200px;\n}\n.react-simple-widget.time-picker-popup header p {\n  font-weight: 400;\n  text-transform: uppercase;\n  font-size: 12px;\n  letter-spacing: 2px;\n}\n.react-simple-widget.time-picker-popup header button i {\n  color: var(--rsw-primary-color);\n}\n.react-simple-widget.time-picker-popup .field-decoration {\n  flex: 1 1;\n}");var c=function(e){return e?a.dayjs_min("2021-01-01T".concat(e)).hour():a.dayjs_min().hour()};a.dayjs_min.extend(a.arraySupport);exports.TimePicker=function(t){var l,s,m=t.value,o=t.onChange,d=t.className,p=e.__rest(t,["value","onChange","className"]),f=n.useState(c(m)%12),b=f[0],v=f[1],y=n.useState((l=m)?a.dayjs_min("2021-01-01T".concat(l)).minute():a.dayjs_min().minute()),j=y[0],g=y[1],N=n.useState(function(e){return c(e)<12?"AM":"PM"}(m)),E=N[0],h=N[1],_=function(){var e=a.dayjs_min();v(e.hour()%12),g(e.minute())};return n.useEffect((function(){var e="AM"===E&&12===b?0:b;e+="PM"===E&&12!==b?12:0;var t=a.dayjs_min([2021,1,1,e,j,0]);t.isValid()?o(t.format("HH:mm")):o(a.dayjs_min().format("HH:mm"))}),[b,j,E]),u.default.createElement(r.PopupMenu,null,u.default.createElement("div",e.__assign({className:(s=["react-simple-widget","time-picker"],d&&s.push(d),s.join(" "))},p),a.dayjs_min("2021-01-01T".concat(m)).format("h:mm A")),(function(e){return u.default.createElement("div",{className:"react-simple-widget time-picker-popup card"},u.default.createElement("div",{className:"card-body"},u.default.createElement("header",{className:"d-flex justify-content-between align-items-center mb-3"},u.default.createElement("p",{className:"mb-0"},"Select Time"),u.default.createElement("button",{type:"button",className:"btn btn-light btn-sm",onClick:_},u.default.createElement("i",{className:"fa fa-clock"}))),u.default.createElement("div",{className:"d-flex align-items-center mb-3"},u.default.createElement(i.FieldDecoration,{label:"Hour",className:"me-4"},(function(e){var t=e.onFieldFocus,n=e.onFieldBlur;return u.default.createElement("input",{type:"number",className:"hour-select",value:isNaN(b)?"":b,onChange:function(e){return t=e.target.value,(n=parseInt(t))>12?n=1:n<1&&(n=12),void v(n);var t,n},onFocus:t,onBlur:n})})),u.default.createElement(i.FieldDecoration,{label:"Minute"},(function(e){var t=e.onFieldFocus,n=e.onFieldBlur;return u.default.createElement("input",{type:"number",className:"minute-select",value:isNaN(j)?"":j,onChange:function(e){return t=e.target.value,(n=parseInt(t))>59?n=0:n<0&&(n=59),void g(n);var t,n},onFocus:t,onBlur:n})}))),u.default.createElement("div",{className:"w-100 btn-group mb-3"},u.default.createElement("button",{type:"button",className:"AM"===E?"btn btn-secondary btn-sm":"btn btn-light btn-sm",onClick:function(){return h("AM")}},"AM"),u.default.createElement("button",{type:"button",className:"PM"===E?"btn btn-secondary btn-sm":"btn btn-light btn-sm",onClick:function(){return h("PM")}},"PM")),u.default.createElement("div",{className:"d-grid"},u.default.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:e},"Ok"))))}))};
